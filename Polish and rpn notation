#include<stdio.h>
#include<conio.h>
#include<string.h>
#include<stdlib.h>

char str[20], stack[20];
int top=-1;
void push(char c)
{
	stack[++top]=c;
}
char pop()
{
	return stack[top--];
}

void pre_in()
{
	int n,i;
	char a,b,op;
	printf("*******PREFIX TO INFIX*******\n\n");
	printf("Enter the prefix expression: ");
	fflush(stdin);
	gets(str);
	n=strlen(str);
	printf("\nInfix expression is: ");
	for(i=0;i<n;i++)
	{
		if(str[i]=='+'||str[i]=='-'||str[i]=='*'||str[i]=='/')
		{
			push(str[i]);
		}
		else
		{
			op=pop();
			a=str[i];
			printf("%c%c",a,op);
		}
	}
	printf("%c\n",str[top--]);
	getch();
	system("cls");
}

void post_in()
{
	int n,i,j=0;
	char a,b,op,x[20];
	printf("*****POSTFIX TO INFIX*****\n\n");
	printf("Enter postfix expression: ");
	fflush(stdin);
	gets(str);
	strrev(str);
	n=strlen(str);
		printf("\nInfix expression is: ");
		for(i=0;i<n;i++)
		{
			if(str[i]=='+'||str[i]=='-'||str[i]=='*'||str[i]=='/')
			{
				push(str[i]);
			}
			else
			{
				x[j]=str[i]; j++;
				x[j]=pop(); j++;
			}
		}
		strrev(x);
		printf("%s\n",x);
		getch();
		system("cls");
}

void main()
{
	int ch;
    while(1)
    {
    	printf("~~~~~~~~~~<|<GROUP 3>|>~~~~~~~~~~\nPOLISH AND RPN NOTATION TO INFIX\n\n");
    	printf("~~~~~~OPTIONS~~~~~~\n\n");
    	printf("[1] PREFIX TO INFIX");
    	printf("\n[2] POSTFIX TO INFIX");
    	printf("\n[3] EXIT PROGRAM");
    	printf("\n\nEnter your choice(1-3): ");
    	scanf("%d",&ch);
    	system("cls");
    	switch(ch)
    	{
		case 1: pre_in();
			break;
	    case 2: post_in();
			break;
	    case 3: exit(0);
			break;
	    default: printf("Wrong chioce\n");
	    getch();
	    system("cls");
		}
		printf("~~~~~~~~OPTIONS~~~~~~~~\n\n");
		printf("   Do you want to\n[1] CONTINUE | [0] EXIT\n\nEnter your choice: ");
		scanf("%d",&ch);
		system("cls");
		if(ch==0)
		{
			printf("Are you sure you want to exit [1 = yes || 0 = no]: ");
			scanf("%d",&ch);
			system("cls");
			if(ch==1)
			return 0;
		}
		
	}
}
